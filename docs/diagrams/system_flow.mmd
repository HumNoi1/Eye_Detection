flowchart TD
    A([Start]) --> B[User opens /camera]
    B --> C[Frontend opens WebSocket /ws]
    C --> D{Open Camera OK?}
    D -->|No| E[Send error JSON & Close]
    E --> F([End])
    D -->|Yes| G[[Frame Loop]]
    G --> H{Client disconnect or Error?}
    H -->|Yes| I[Release Camera & Close WS]
    I --> F
    H -->|No| G
